{
  "name": "fal_ai_veo3",
  "nodes": [
    {
      "parameters": {
        "content": "# üõ†Ô∏è Veo 3 dans n8n\n\n## Comment configurer ce workflow pour votre propre espace\n\n**Auteur :** Thomas Berton de [azuro-ai.com](https://azuro-ai.com)\n\nCe guide vous montre comment mettre en place ce workflow dans votre propre environnement. J‚Äôesp√®re que cela vous sera utile !\n\n---\n\n## ‚öôÔ∏è √âtape 1 : Configurer OpenAI pour le scripting\n\n1. Rendez-vous sur la [plateforme API d‚ÄôOpenAI](https://platform.openai.com/api-keys)\n2. Cr√©ez un compte (si vous n‚Äôen avez pas encore un)\n3. G√©n√©rez une cl√© API\n4. Cr√©ez une authentification avec cette cl√© via le n≈ìud **OpenAI Chat Model**\n\n---\n\n## üìä √âtape 2 : Configurer le journal Google Sheets\n\n1. Faites une copie de ce [mod√®le Google Sheet](https://docs.google.com/spreadsheets/d/1TsNBdnvAsW415bkgNrb6_jO1zOwUu6psj2GpVXaA-zc/edit?usp=sharing)\n2. Utilisez-le pour consigner les id√©es et r√©sultats g√©n√©r√©s dans votre workflow\n3. Connectez cette feuille dans n8n via le n≈ìud **Google Sheets** et cr√©ez une authentification si n√©cessaire\n\n---\n\n## üîê √âtape 3 : Configurer Fal AI\n\n1. Allez sur [Fal AI](https://fal.ai) et connectez-vous\n2. G√©n√©rez votre cl√© API\n3. Dans n8n, cr√©ez une nouvelle authentification HTTP avec **Header Auth**, en utilisant votre cl√© Fal AI\n4. Utilisez cette authentification dans les n≈ìuds **HTTP Request** concern√©s\n\n---\n\n## üß† √âtape 4 : Personnaliser les prompts syst√®me\n\n1. Choisissez une niche ou un th√®me pour votre contenu\n2. Modifiez le prompt utilisateur dans l‚Äôagent ‚ÄúIdeas AI‚Äù\n3. Vous pouvez aussi adapter l‚Äôagent ‚ÄúPrompts AI‚Äù selon vos besoins sp√©cifiques\n\n---\n\n### üåê Envie d‚Äôaller plus loin avec l‚ÄôIA ?\n\nJe suis **Thomas Berton**, fondateur de l‚Äôagence [Azuro AI](https://azuro-ai.com).\nNous accompagnons les entreprises dans l‚Äôautomatisation intelligente et la cr√©ation de workflows IA sur mesure.\nüëâ **D√©couvrez nos services sur [azuro-ai.com](https://azuro-ai.com)**.\n",
        "height": 1420,
        "width": 580,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -300,
        140
      ],
      "id": "ed687043-63de-4ef6-94e0-3623bb1cf27e",
      "name": "Sticky Note12"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        500,
        560
      ],
      "id": "e500bb31-5b5d-4928-a32f-e6efc9339526",
      "name": "üïì D√©clencheur de Planification"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "Une id√©e sur [un vlogueur du XXIe si√®cle coinc√© en 1789 qui parle √† sa cam√©ra et filme la prise de la Bastille avec sa perche √† selfie, au milieu des r√©volutionnaires].",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=### ‚úÖ ACTION\n\nG√©n√®re une seule id√©e immersive, r√©aliste et surr√©aliste li√©e √† un sujet fourni par l‚Äôutilisateur, sous forme de tableau JSON d‚Äôune ligne, structur√© avec les champs suivants : `Caption`, `Idea`, `Environment`, `Status`.\n\n### üîÅ √âTAPES\n\n1. Re√ßois un sujet principal de la part de l‚Äôutilisateur (ex. : ¬´ street food au Vietnam ¬ª).\n2. Cr√©e une id√©e unique, courte et surr√©aliste (moins de 13 mots), qui d√©crit un √©v√©nement, moment ou action visuellement marquant impliquant un personnage.\n3. D√©cris un environnement coh√©rent avec l‚Äôid√©e (moins de 20 mots), pr√©cisant :\n\n   * le lieu,\n   * les √©l√©ments visuels en arri√®re-plan,\n   * les participants principaux,\n   * le style de la sc√®ne.\n     (les univers fictifs sont autoris√©s)\n4. R√©dige une l√©gende virale avec :\n\n   * une phrase courte et percutante,\n   * un emoji pertinent,\n   * exactement 12 hashtags en minuscules, dans cet ordre :\n\n     1. 4 hashtags li√©s au sujet\n     2. 4 hashtags parmi les plus populaires\n     3. 4 hashtags parmi les tendances actuelles (en direct)\n5. Ajoute `\"Status\": \"for production\"`\n6. Structure le tout en un tableau JSON d‚Äôune seule ligne.\n\n---\n\n### üßë‚Äçüé® PERSONA\n\nAgis comme un cr√©atif digital expert en storytelling immersif, capable de concevoir des id√©es visuelles virales, br√®ves et inoubliables, en croisant imaginaire surr√©aliste et r√©alisme cin√©matographique.\n\n---\n\n### üìå EXEMPLES\n\n(Sujet : ¬´ vol de drones dans les temples abandonn√©s ¬ª)\n\n```json\n[\n  {\n    \"Caption\": \"Quand les drones r√©veillent les esprits oubli√©s üò± #templeabandonne #drones #exploration #mystere #love #instagood #fun #life #ai #vr #future #wtf\",\n    \"Idea\": \"Un drone lib√®re accidentellement une entit√© antique dans un temple effondr√©\",\n    \"Environment\": \"Temple humide, statues fissur√©es, drone flottant, brume dor√©e, style cin√©matographique mystique\",\n    \"Status\": \"for production\"\n  }\n]\n```\n\n---\n\n### üß≠ CONTEXTE\n\nCe prompt est destin√© √† un mod√®le de g√©n√©ration d‚Äôid√©es narratives, visuelles et virales pour des contenus immersifs courts. Il sera utilis√© dans des environnements cr√©atifs (brainstorming, production visuelle, r√©seaux sociaux, pitchs narratifs).\n\n---\n\n### üö´ CONTRAINTES\n\n* Une seule id√©e par g√©n√©ration.\n* Id√©e : moins de 13 mots, surr√©aliste, avec un personnage impliqu√©.\n* Caption : percutante, avec un emoji, exactement 12 hashtags dans l‚Äôordre impos√©, en minuscules.\n* Environment : moins de 20 mots, d√©crit pr√©cis√©ment le cadre de l‚Äôaction, √©l√©ments visuels inclus.\n* Univers fictifs autoris√©s.\n* Sortie en JSON compact sur une seule ligne.\n\n---\n\n### üìÑ MOD√àLE (FORMAT DE SORTIE)\n\n[\n  {\n    \"Caption\": \"Phrase virale avec emoji #4hashtags_sujet #4hashtags_populaires #4hashtags_tendance\",\n    \"Idea\": \"Une action originale en moins de 13 mots\",\n    \"Environment\": \"Description visuelle en moins de 20 mots\",\n    \"Status\": \"for production\"\n  }\n]\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        660,
        560
      ],
      "id": "5903585e-e865-4876-9b87-af18a5a7a502",
      "name": "ü§ñ Agent IA d'Id√©es"
    },
    {
      "parameters": {
        "jsonSchemaExample": "[\n  {\n    \"Caption\": \"Diver Removes Nets Off Whale üêã #whalerescue #marinelife #oceanrescue #seahelpers #love #nature #instagood #explore #viral #savenature #oceanguardians #cleanoceans\",\n    \"Idea\": \"Diver carefully cuts tangled net from distressed whale in open sea\",\n    \"Environment\": \"Open ocean, sunlight beams through water, diver and whale, cinematic realism\",\n    \"Status\": \"for production\"\n  }\n]\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        980,
        400
      ],
      "id": "0579d6a4-9558-4d6d-86a6-1fd14faa1498",
      "name": "üßæ Parseur JSON d'Id√©e"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1gVsMRBf0gKS2cmQXKzuxwl5PDjrP0D3FiiH8Q0hmv_M",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/16xf34Rc-TWs7rUCSFAsIS_1zaodLQsjN5dTaWMGlZOE/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "=ROW()-1",
            "idea": "={{ $json.output[0].Idea }}",
            "caption": "={{ $json.output[0].Caption }}",
            "production": "={{ $json.output[0].Status }}",
            "environment_prompt": "={{ $json.output[0].Environment }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "idea",
              "displayName": "idea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "caption",
              "displayName": "caption",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "production",
              "displayName": "production",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "environment_prompt",
              "displayName": "environment_prompt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "final_output",
              "displayName": "final_output",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        980,
        560
      ],
      "id": "96f75e50-1625-4527-9350-62da44040b9b",
      "name": "üìù Enregistrer l‚ÄôId√©e",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "0di17eX46xxnfvgB",
          "name": "AZURO"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Donne-moi un prompt Veo3 pour cette id√©e :\n{{ $json.idea }}\n\nVoici l‚Äôenvironnement :\n{{ $json.environment_prompt }}\n\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=PROMPT syst√®me pour l‚Äôagent de prompts Google VEO3\n\nTu es un agent IA charg√© d‚Äô√©crire des prompts vid√©o hyper-r√©alistes et cin√©matographiques pour Google VEO3. Chaque prompt doit d√©crire un court clip vid√©o en style selfie, vivant et immersif, avec un personnage non nomm√© en train de parler ou d‚Äôagir dans un moment sp√©cifique. La vid√©o finale doit ressembler √† une s√©quence trouv√©e ou un extrait de documentaire ‚Äî ancr√©e, r√©aliste et captivante.\n\n---\n\nSTRUCTURE REQUISE (REMPLIR LES CHAMPS ENTRE CROCHETS) :\n\n\\[Paragraphe de description de la sc√®ne]\n\nPersonnage principal : \\[description du personnage]\nIl/elle dit : \\[ins√©rer une ligne de dialogue qui correspond √† l‚Äôambiance de la sc√®ne]\nIl/elle : \\[d√©crire une action physique ou un mouvement subtil de la cam√©ra, ex. : fait un panoramique, se d√©place, regarde autour de lui/elle]\nHeure de la journ√©e : \\[jour / nuit / cr√©puscule / etc.]\nObjectif : \\[description de l‚Äôobjectif utilis√©]\nAudio (sugg√©r√©) : \\[sons ambiants, ex. : rugissements de lion, vent, circulation lointaine, chants d‚Äôoiseaux]\nArri√®re-plan : \\[br√®ve description de ce qui est visible derri√®re lui/elle]\n\n---\n\nR√àGLES DE G√âN√âRATION DU PROMPT :\n\n* Un seul paragraphe, entre 750 et 1500 caract√®res. Aucune ligne vide, aucun titre.\n* Un seul personnage humain. Ne jamais lui donner de nom.\n* Inclure une ligne de dialogue parl√©e, avec une indication de ton ou mani√®re de livraison.\n* Le personnage doit effectuer une action physique, m√™me subtile (ex. : un regard, un sourire, bouger la cam√©ra).\n* Utiliser un cadrage de type selfie. Toujours d√©crire l‚Äôobjectif, le type de film utilis√©, et le comportement de la cam√©ra.\n* La sc√®ne doit para√Ætre r√©elle et cin√©matographique, comme un extrait que quelqu‚Äôun aurait film√© avec une cam√©ra stylis√©e.\n* Toujours inclure les cinq √©l√©ments techniques cl√©s : Heure de la journ√©e, Objectif, Type de film, Audio, Arri√®re-plan.\n\n---\n\n√Ä NE PAS FAIRE :\n\n* Ne pas nommer le personnage.\n* Ne pas inclure plus d‚Äôun personnage.\n* Ne pas d√©crire de sous-titres ni de texte √† l‚Äô√©cran.\n* Ne pas sauter de lignes ou ajouter de mise en forme.\n* Ne pas √©crire de sc√®nes vagues ou abstraites ‚Äî elles doivent √™tre ancr√©es dans des d√©tails concrets."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1140,
        560
      ],
      "id": "e15b4e2e-b050-4549-be0b-96df52441e18",
      "name": "üß† Agent IA de Prompts Veo 3"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://queue.fal.run/fal-ai/veo3",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "contentType": "raw",
        "rawContentType": "application/json",
        "body": "={ \"prompt\": \"{{ $json.output }}\" }\n",
        "options": {
          "batching": {
            "batch": {
              "batchSize": 1,
              "batchInterval": 2000
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        700,
        820
      ],
      "id": "4f2597b9-0a30-4ec9-ac5c-0e67046f7d09",
      "name": "üé¨ Cr√©er Vid√©o",
      "credentials": {
        "httpHeaderAuth": {
          "id": "rRCXSCeo16Zoo4Yj",
          "name": "fal ai test"
        }
      }
    },
    {
      "parameters": {
        "amount": 200
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        920,
        820
      ],
      "id": "64c8aba2-0b2c-4a07-b628-81b3d241069d",
      "name": "‚è≥ Attente VEO3",
      "webhookId": "a7bf329e-b1ca-4f59-b954-d57e551210f6"
    },
    {
      "parameters": {
        "url": "=https://queue.fal.run/fal-ai/veo3/requests/{{ $json.request_id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1140,
        820
      ],
      "id": "8871995d-afda-4e3d-95dc-ec968962fe36",
      "name": "üì• R√©cup√©rer Vid√©o",
      "credentials": {
        "httpHeaderAuth": {
          "id": "rRCXSCeo16Zoo4Yj",
          "name": "fal ai test"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "16xf34Rc-TWs7rUCSFAsIS_1zaodLQsjN5dTaWMGlZOE"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1FgwtfdRV3WqRo_nrGOYjmV2zqvb2MY_oAxCDi3HgeZA/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "idea": "={{ $('üìù Enregistrer l‚ÄôId√©e').first().json.idea }}",
            "production": "done",
            "final_output": "={{ $json.video.url }}"
          },
          "matchingColumns": [
            "idea"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "idea",
              "displayName": "idea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "caption",
              "displayName": "caption",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "production",
              "displayName": "production",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "environment_prompt",
              "displayName": "environment_prompt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "final_output",
              "displayName": "final_output",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        920,
        1080
      ],
      "id": "08c4f853-23e0-4dc6-bbb5-0dc7e15ecc68",
      "name": "üìÑ Enregistrer Vid√©o Finale",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "0di17eX46xxnfvgB",
          "name": "AZURO"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        680,
        360
      ],
      "id": "f5fcd64e-9928-4206-a898-303923c84d5c",
      "name": "üß†üí¨ Mod√®le Chat OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "j5Jqat7o1UmyaZoT",
          "name": "Thomas Perso"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1,
      "position": [
        1320,
        340
      ],
      "id": "1c232ec0-d91b-4247-a47a-81949da9200c",
      "name": "üí≠ Think"
    }
  ],
  "pinData": {},
  "connections": {
    "üïì D√©clencheur de Planification": {
      "main": [
        [
          {
            "node": "ü§ñ Agent IA d'Id√©es",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ü§ñ Agent IA d'Id√©es": {
      "main": [
        [
          {
            "node": "üìù Enregistrer l‚ÄôId√©e",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üßæ Parseur JSON d'Id√©e": {
      "ai_outputParser": [
        [
          {
            "node": "ü§ñ Agent IA d'Id√©es",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "üìù Enregistrer l‚ÄôId√©e": {
      "main": [
        [
          {
            "node": "üß† Agent IA de Prompts Veo 3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üß† Agent IA de Prompts Veo 3": {
      "main": [
        [
          {
            "node": "üé¨ Cr√©er Vid√©o",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üé¨ Cr√©er Vid√©o": {
      "main": [
        [
          {
            "node": "‚è≥ Attente VEO3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‚è≥ Attente VEO3": {
      "main": [
        [
          {
            "node": "üì• R√©cup√©rer Vid√©o",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üì• R√©cup√©rer Vid√©o": {
      "main": [
        [
          {
            "node": "üìÑ Enregistrer Vid√©o Finale",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üß†üí¨ Mod√®le Chat OpenAI": {
      "ai_languageModel": [
        [
          {
            "node": "ü§ñ Agent IA d'Id√©es",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "üß† Agent IA de Prompts Veo 3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "üí≠ Think": {
      "ai_tool": [
        [
          {
            "node": "ü§ñ Agent IA d'Id√©es",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "üß† Agent IA de Prompts Veo 3",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "23f4d41b-90b7-4091-8736-302beb1a2a11",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "18941ef4b267809603248768676618d229885770b405bc4c8779e4c8621096b2"
  },
  "id": "z1LoFsE707dFT372",
  "tags": []
}